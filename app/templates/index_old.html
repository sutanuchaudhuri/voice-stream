<!DOCTYPE html>
<html>
<head>
    <title>Speech to Text Streaming</title>
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="/static/stream.js"></script>
</head>
<body>
    <h1>Stream and Transcribe Audio</h1>
    <button onclick="startRecording()">Start Recording</button>
    <button onclick="stopRecording()">Stop Recording</button>
    <div id="recording-cue" style="display:none;color:red;font-weight:bold;">‚óè Recording...</div>
    <div>
        <button id="playback-btn" style="display:none;" onclick="playAudio()">Play Last Recording</button>
        <audio id="audio-player" controls style="display:none;"></audio>
    </div>
    <div>
        <label for="question-box">Question (Transcription):</label><br>
        <textarea id="question-box" rows="2" cols="60" readonly></textarea>
    </div>
    <div>
        <label for="answer-box">Answer:</label>
        <button id="speak-btn" title="Speak answer" style="background:none;border:none;cursor:pointer;vertical-align:middle;">
            <span style="font-size:1.5em;">üîä</span>
        </button><br>
        <textarea id="answer-box" rows="2" cols="60" readonly></textarea>
    </div>
    <div id="result"></div>
</body>
</html>
